= Design Patterns - TP3
J.-M. Bruel <jbruel@gmail.com>
v20.1 {localdate}
:tdnum: TP3
:uk!:
:imagesdir: images
//------------------------- variables de configuration
// only used when master document
:icons: font
:experimental:
:numbered!:
:status:
:source-highlighter: rouge
:baseURL: :baseURL: http://bit.ly/innopolis-patterns
:github: https://github.com[GitHub]
// Specific to GitHub
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:

endif::[]
//------------------------------------ 
ifdef::uk[]
:lang: uk
:lastName: LAST NAME
:firstName: First Name
:group: Group
:example: Example
:Enseignants: Teachers
:principe: Good design principle
:assignment: Assignment info
:requirements: Requirements
:initial: Initial tasks
:allerPlusLoin: Still hungry?...
:about: About...
:contrib: Contributors
endif::[]
ifndef::uk[]
:lang: fr
:lastName: NOM
:firstName: PrÃ©nom
:group: Groupe
:example: Exemple
:Enseignants: Enseignants
:principe: Principe Objet
:assignment: Informations gÃ©nÃ©rales
:requirements: PrÃ©-requis
:initial: TÃ¢che initiale
:allerPlusLoin: Pour Aller plus loin...
:about: Ã€ propos...
:contrib: Contributeurs
endif::[]
:java: https://www.java.com/fr/[Java]
:asciidoc: http://www.methods.co.nz/asciidoc[AsciiDoc]indexterm:[AsciiDoc]
:asciidoctorlink: http://asciidoctor.org/[Asciidoctor]indexterm:[Asciidoctor]
//------------------------------------ 

ifdef::uk[]
== {tdnum} initial code
This is a template for the students' assignments.

ifndef::backend-pdf[]
TIP: Course material: pass:[<i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> <i class="fa fa-laptop"></i>] http://bit.ly/jmb-cpoa
endif::[]

ifdef::backend-pdf[]
TIP: Course material: icon:mobile[] icon:tablet[] icon:laptop[] http://bit.ly/jmb-cpoa
endif::[]
endif::[]

ifndef::uk[]
== Code initial pour le {tdnum}

ifndef::backend-pdf[]
TIP: Rappel du cours : pass:[<i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> <i class="fa fa-laptop"></i>] http://bit.ly/jmb-cpoa
endif::[]

ifdef::backend-pdf[]
TIP: Rappel du cours : icon:mobile[] icon:tablet[] icon:laptop[] http://bit.ly/jmb-cpoa
endif::[]

endif::[]

//------------------------------------ 
== {assignment}

{lastName}:: Creurer

{firstName}:: Benjamin

{group} #::

[%interactive]
- [ ] {Enseignants}
- [ ] 1
- [x] 2
- [ ] 3
- [ ] 4
- [ ] Innopolis

//------------------------------------ 
== {requirements}

ifdef::uk[]
You'll need:

[%interactive]
* [x] A {Github} account  
* [ ] A https://gitforwindows.org/[Git Bash] terminal (if you use Window$)
endif::[]
ifndef::uk[]
Il vous faut :

[%interactive]
* [x] Un compte {Github}  
* [ ] Un terminal de type https://gitforwindows.org/[Git Bash]  (si vous utilisez Window$)
endif::[]

ifdef::uk[]
[TIP]
====    
Try the following command in your terminal to check your `git` environment:
endif::[]
ifndef::uk[]
[TIP]
====    
Essayez la commande suivante dans votre terminal pour vÃ©rifier votre environnement `git` :
endif::[]

[source,shell]
....
git config --global -l
....
====

//------------------------------------ 
== {initial}

ifdef::uk[]
[%interactive]
* [x] Click on the Github Classroom link provided by your teacher (in fact, this should be done if you read this).
* [ ] Clone on your machine the Github project generated by Github Classroom.  
* [ ] Modify the README file to add your last name, first name and group number. 
* [ ] Commit and push using the following message:
endif::[]
ifndef::uk[]
[%interactive]
* [x] Clickez sur le lien Github Classroom fourni par votre enseignant (en fait c'est dÃ©jÃ  fait si vous lisez ces lignes).
* [ ] Clonez sur votre machine le projet Github gÃ©nÃ©rÃ© pour vous par Github Classroom.  
* [ ] Modifez le `README` pour modifier Nom, PrÃ©nom et Groupe. 
* [ ] Commit & push:
endif::[]

ifndef::backend-pdf[.pass:[<i class="fa fa-github"></i>] commit/push]
ifdef::backend-pdf[.icon:github[] commit/push]
[source,shell]
....
fix #0 Initial task done
....

[IMPORTANT]
ifndef::uk[]
Dans la suite de ce document, Ã  chaque fois que vous trouverez un Ã©noncÃ© commenÃ§ant par `fix #...` vous devez vÃ©rifier que vos scripts/fichiers modifiÃ©s sont bien dans votre dÃ©pÃ´t local en vue de committer et de pusher les modifications sur votre dÃ©pÃ´t distant en utilisant comme message de commit cet Ã©noncÃ©.

[TIP]
====
- Si vous voulez vÃ©rifier que vous Ãªtes prÃªt pour le `fix #0`, utilisez la commande : `make check`.
- Si vous voulez avoir la liste des ToDos de ce TP/TP, exÃ©cutez `make todos`.
====

[NOTE]
=====
Les exercices de ce TD sont tirÃ©s de l'excellent livre "TÃªte la premiÃ¨re : Design Pattern".
Bert Bates, Eric Freeman, Elisabeth Freeman, Kathy Sierra. Editions O'Reilly. 2005.

image::headFirst.jpg[link="https://www.oreilly.com/library/view/head-first-design/0596007124/",width=40%]
=====
endif::[]

ifdef::uk[]
In the following, every time you'll see Ã  `fix #...` text, 
make sure all your files are committed, and then push your modifications in the distant repo, making sure you used the corresponding message (`fix #...`) in one of the `commit` messages.

[TIP]
====
- If you want to check that you're really ready for `fix #0`, you can run the command in your shell: `make check`.
- If you want to list the ToDos of the day, run `make todos`.
====

[NOTE]
=====
This TD exercise is inspired from the excellent https://www.oreilly.com/library/view/head-first-design/0596007124/[book]: "Head First: Design Pattern.
Bert Bates, Eric Freeman, Elisabeth Freeman, Kathy Sierra. Editions O'Reilly. 2005."

image::headFirst.jpg[link="https://www.oreilly.com/library/view/head-first-design/0596007124/",width=40%]
=====
endif::[]

//------------------------------------ 
//------------------------------------ 
//------------  Let's START----------- 
//------------------------------------ 
//------------------------------------ 

:numbered!:

== Les Pizzerias

//----------------------------- Question ------------------
.*QUESTION*
[NOTE]
====
* ImplÃ©mentez entiÃ¨rement l'application de Pizzeria vue en TD3 de maniÃ¨re Ã  ce :
** qu'elle mette en Å“uvre le patron Fabrique Abstraite
** qu'elle mette en Å“uvre le patron Singleton (pour les fabriques)
** que le programme de main (attention, ce n'est pas un test JUnit) livrÃ© dans votre dÃ©pÃ´t produise le rÃ©sultat ci-dessous.
+
TIP: Commencez par le programme fourni et servez-vous des _QuickFix_ pour "gÃ©nÃ©rer" un maximum de code.
+
====

=== Rendus attendus

//----------------------------- ToDo ------------------
.*ToDo*
[NOTE]
====

[%interactive]
* [ ] un `pom.xml` fonctionnel qui lance les tests maven de votre application
* [ ] un `build.gradle` fonctionnel qui lance les tests gradle de votre application
* [ ] le diagramme de classe de votre application, dans un fichier `TP3.plantuml`, placÃ© dans le rÃ©pertoire `doc` de votre dÃ©pÃ´t.
====

On utilisera le modÃ¨le suivant pour les pizzas :

.Diagramme de classe des Pizzas
image::Pizzas-dc.svg[]

.Programme de test
[source,java]
-------
public class PizzaTestDrive {
    public static void main(String[] args) {
        Pizzeria boutiqueBrest = PizzeriaFactory.getInstance().creer("Brest");
        Pizzeria boutiqueStrasbourg = PizzeriaFactory.getInstance().creer("Strasbourg");

        Pizza pizza = boutiqueBrest.commanderPizza("fromage");
        System.out.println("JMB a commandÃ© une " + pizza.getNom() + "\n");

        pizza = boutiqueStrasbourg.commanderPizza("fromage");
        System.out.println("JMI a commandÃ© une " + pizza.getNom() + "\n");
    }
-------

.RÃ©sultat d'exÃ©cution
............
$ java -jar target/pizzeria.jar
PreÌ�paration de Pizza sauce style brest et fromage
EÌ�talage de la paÌ‚te...
Ajout de la sauce...
Ajout des garnitures: 
 Parmigiano reggiano raÌ‚peÌ�
Cuisson 25 minutes aÌ€ 180 degrÃ©s
DeÌ�coupage en parts triangulaires
Emballage dans une boiÌ‚te officielle
JMB a commandÃ© une Pizza sauce style brest et fromage

PreÌ�paration de Pizza pÃ¢te style Strasbourg et fromage
EÌ�talage de la paÌ‚te...
Ajout de la sauce...
Ajout des garnitures: 
 Mozzarella en lamelles
Cuisson 25 minutes aÌ€ 180 degrÃ©s
DÃ©coupage en parts carrÃ©es
Emballage dans une boiÌ‚te officielle
JMI a commandÃ© une Pizza pÃ¢te style Strasbourg et fromage
............

.Architecture type attendue (ici dans une version US)
image::TP3.svg[]

WARNING: Attention, ce TP est Ã©valuÃ© dans le cadre du contrÃ´le continu. L'autograding de classroom lancera les tests via `gradle test` et `maven test`, ainsi que `test0` et le test du modÃ¨le. Ceci constituera 80% de la note. Les 20% suivants seront Ã©valuÃ©s par votre encadrant de TP sur la base de vos tests (qualitÃ© et nombres).

ifndef::backend-pdf[.pass:[<i class="fa fa-github"></i>] commit/push]
ifdef::backend-pdf[.icon:github[] commit/push]
[source,shell]
....
fix #All: Completed all duties
....




//------------------------------------ 
//------------------------------------ 
//------------  Still Angry ---------- 
//------------------------------------ 
//------------------------------------ 

// :numbered!:
// [appendix]
// == {allerPlusLoin}

//----------------------------- Question ------------------
// .*QUESTION*
// [WARNING]
// ====
// . ...
// . Commit&Push when everything is ready
// +
// ifndef::backend-pdf[.pass:[<i class="fa fa-github"></i>] commit/push]
// ifdef::backend-pdf[.icon:github[] commit/push]
// [source,shell]
// ....
// fix #Bonus: Here is additional material...
// ....
// +
// ====

ifndef::compact[]
//------------------------------------ 
== {contrib}
//------------------------------------ 

- mailto:jbruel@gmail.com[Jean-Michel Bruel]

== {about}

****************************************************************
Baked with {asciidoctorlink} (version `{asciidoctor-version}`) from 'Dan Allen', based on {asciidoc}.
'Licence Creative Commons'.
image:88x31.png["Licence Creative
Commons",style="border-width:0",link="http://creativecommons.org/licenses/by-sa/3.0/"]
http://creativecommons.org/licenses/by-sa/3.0/[licence Creative Commons PaternitÃ© - Partage Ã  l&#39;Identique 3.0 non transposÃ©].
****************************************************************
endif::[]
